{% load content thumbnail %}

<article class="content-preview">
    <header class="content-preview-header">
        {% include "macros/content_type.html" with content=content %}
        {% include 'content/_content_info.html' %}
    </header>

    <a href="{{ content.get_absolute_url }}" class="content-preview-body">
        <h3 class="content-title">
            {{ content.title }}
        </h3>

        <div class="content-preview-body-content">
            {% if content.event %}
                {% include "macros/calendar_sheet.html" with time=content.event.date %}
            {% elif content.images.first %}
                {% thumbnail content.images.first.file '200x200' crop="center top" as image %}
                    <div class="content-image">
                        <img src="{{ image.url }}">
                    </div>
                {% endthumbnail %}
            {% endif %}

            <div class="content-preview-text" data-component="user-content">
                {% if content.event %}
                    {% include "macros/event_meta.html" with event=content.event %}
                {% endif %}

                {% markdown content.text truncate=50 heading_baselevel=4 %}
                <span class="read-more"> Weiterlesen...</span>
            </div>
        </div>
    </a>
</article>
